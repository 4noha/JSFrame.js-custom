<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JsFrame.js example - xxxxxxx</title>
    <meta charset="utf-8">
    <style>
        h2 {
            border-bottom: 1px solid #bbb;
            font-weight: 100;
            margin: 0 0 0.8em 0;
            padding: 0 0 0.2em 0;
        }

        h2 span {
            color: #666666;
            white-space: nowrap;
        }

        a {
            color: #6aa0d0;
            text-decoration: none;
        }

        h2 a {
            font-weight: 300;
            margin: 0 10px 0 0;
            white-space: nowrap;
        }

        a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
<h2><a href="../../../index.html">JSFrame.js examples</a><span>xxxxxx</span>
</h2>
<div style="font-size: 16px; color: white; position: fixed; right: 20px; bottom: 10px">
    <a href="" title="View source for this page on GitHub">View source on GitHub</a>
</div>
<script src="../../../jsframe.js"></script>
<script>
  const jsFrame = new JSFrame();

  const frames = [];
  for (let i = 0; i < 3; i++) {

    const frame = jsFrame.create({
      name: `Win${i}`,
      title: `Win${i} - Yosemite style`,
      left: 20 + (320 + 20) * i, top: 50, width: 320, height: 220, minWidth: 200, minHeight: 110,
      appearanceName: 'yosemite',
      appearanceParam: {
        titleBar: {
          greenButton: 'fullscreen',//'maximize' or 'fullscreen'
        }
      },
      style: {
        backgroundColor: 'rgba(255,255,255,1.0)',
        overflow: 'hidden'
      },
      html: '<div id="bg" style="padding:10px;width:100%;height:100%;user-select:none">Double click here or press "Escape" to restore.</div>'
    }).show();

    frame.on('#bg', 'dblclick', function(_frame, e) {
      _frame.control.doCommand('restore');
    });

    frame.setControl({
      maximizeButton: 'zoomButton',
      maximizeWithoutTitleBar: true,
      demaximizeButton: 'dezoomButton',
      //minimizeButton: 'minimizeButton',
      deminimizeButton: 'deminimizeButton',
      hideButton: 'minimizeButton',
      hideButtonParam: {
        align:'ABSOLUTE',
        offset:{
          x:100,y:500
        },
        duration:1000
      },
      //https://www.w3.org/TR/uievents-code/#keyboard-key-codes
      restoreKey: 'Escape',
      restoreCallback: function(e) {
        console.log("event restored")
      },
      animation: true,

      styleDisplay: 'inline',
      animationDuration: 300,

    });
    frame.control.on('hid', (frame, info) => {

    });
    frame.control.on('maximized', (frame, info) => {
      console.log("event maximized")
    });
    frame.control.on('demaximized', (frame, info) => {
      console.log("event demaximized")
    });

    frames.push(frame);
  }
  frames[0].requestFocus();
</script>
</body>
</html>
